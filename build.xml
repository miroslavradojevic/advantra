<project name="advantra" default="" basedir=".">
 	<description>
    	imagej packages for neuron tracing project build file
    </description>

    <property environment="env"/>
	<property name="src"    		location="src"   />
  	<property name="build"  		location="build" />
	<property name="user.name" 		value="miroslavR" />

    <target name="main" depends="compress" description="Main target">
	<echo>
		finalize...
	</echo>
</target>


<target name="compress" depends="compile" description="generate the distribution">

    <echo>
        compressing the JAR file...
    </echo>

	<jar jarfile="advantra_.jar">
 		<fileset dir="."          includes="plugins.config" />
		<fileset dir="${build}"   includes="**/*.*"         />
 		<manifest>
 			 	     <attribute name="Built-By" value="${user.name}"/>
 		</manifest>
 	</jar>

    <echo>
        copy the JAR file to ImageJ folder...
    </echo>

	<copy file="./advantra_.jar" 				toDir="${env.HOME}/ImageJ/plugins/" />

</target>

<target name="compile">
    <javac compiler="javac1.6" target="1.6" source="1.6" srcdir="${src}" destdir="${build}">
    </javac>
</target>

</project>