<project name="advantra" default="" basedir=".">
 	<description>
    	imagej packages for neuron tracing project build file
    </description>

    <property environment="env"/>
	<property name="src"    		location="src"   />
  	<property name="build"  		location="build" />
	<property name="user.name" 		value="miroslavR" />
    <property name="javac1.5"        location="/opt/jdk1.7.0_21/bin/javac" />  <!-- compiles also if this line is out -->

<target name="main" depends="compress" description="main target">
</target>


<target name="compress" depends="compile" description="generate distribution">

	<jar jarfile="advantra_.jar">
 		<fileset dir="."          includes="plugins.config" />
		<fileset dir="${build}"   includes="**/*.*"         />
 		<manifest>
 			 	     <attribute name="Built-By" value="${user.name}"/>
 		</manifest>
 	</jar>

	<copy file="./advantra_.jar"  toDir="${env.HOME}/ImageJ/plugins/" />
    <copy file="./advantra_.jar"  toDir="${env.HOME}/Fiji.app/plugins/" />

</target>

<target name="compile" depends="" description="compiling">
    <javac compiler="javac1.5" target="1.5" source="1.5" srcdir="${src}" destdir="${build}" />
</target>

</project>